{"version":3,"sources":["config.js","App.js","reportWebVitals.js","index.js"],"names":["startPosition","App","React","useState","player","setPlayer","top","setTop","left","setLeft","isGameOver","setIsGameOver","isPlayerMoves","setIsPlayerMoves","playerHPBar","setplayerHPBar","playerHP","setPlayerHP","enemyHPBar","setEnemyHPBar","enemyHP","setEnemyHP","arrowsNumbers","setArrowsNumbers","turn","setTurn","step","moveUp","e","preventDefault","style","moveDown","moveLeft","moveRight","damagePlayer","width","generateArrow","Math","floor","random","useEffect","document","querySelector","background","arrows","i","arrowNumber","push","newArrowsNumber","filter","n","className","tabIndex","onKeyDown","keyCode","setTimeout","move","map","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4af8a488.chunk.js","sourcesContent":["const startPosition = {\n  top: 240,\n  left: 120\n}\n\nexport { startPosition };","import './App.css';\r\nimport React from 'react';\r\nimport { startPosition } from './config';\r\n\r\nfunction App() {\r\n\r\n  const [player, setPlayer] = React.useState(null);\r\n  const [top, setTop] = React.useState(startPosition.top);\r\n  const [left, setLeft] = React.useState(startPosition.left);\r\n  const [isGameOver, setIsGameOver] = React.useState(false);\r\n  const [isPlayerMoves, setIsPlayerMoves] = React.useState(false);\r\n\r\n  // HP\r\n  const [playerHPBar, setplayerHPBar] = React.useState(null);\r\n  const [playerHP, setPlayerHP] = React.useState(100);\r\n  const [enemyHPBar, setEnemyHPBar] = React.useState(null);\r\n  const [enemyHP, setEnemyHP] = React.useState(100);\r\n\r\n  // Arrows\r\n  const [arrowsNumbers, setArrowsNumbers] = React.useState([]);\r\n  const [turn, setTurn] = React.useState(-1);\r\n\r\n  const step = 15;\r\n  const damage = 5;\r\n\r\n  function movement(e) {\r\n    switch (e.keyCode) {\r\n      case 65:\r\n      case 68:\r\n      case 83:\r\n      case 87:\r\n      case 37:\r\n      case 38:\r\n      case 39:\r\n      case 40:\r\n        return move(e);\r\n\r\n      case 32:\r\n        return damagePlayer(e);\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  function move(e) {\r\n    switch (e.keyCode) {\r\n      case 87:\r\n      case 38:\r\n        moveUp(e);\r\n        break;\r\n\r\n      case 65:\r\n      case 37:\r\n        moveLeft(e);\r\n        break;\r\n\r\n      case 83:\r\n      case 40:\r\n        moveDown(e);\r\n        break;\r\n\r\n      case 68:\r\n      case 39:\r\n        moveRight(e);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    setIsPlayerMoves(true);\r\n    setTimeout(() => setIsPlayerMoves(false), 1000);\r\n  }\r\n\r\n  function moveUp(e) {\r\n    e.preventDefault();\r\n\r\n    setTop(top - step);\r\n    setTurn(0);\r\n    player.style.top = top - step + 'px';\r\n\r\n  }\r\n\r\n  function moveDown(e) {\r\n    e.preventDefault();\r\n\r\n    setTop(top + step);\r\n    setTurn(2);\r\n    player.style.top = top + step + 'px';\r\n\r\n  }\r\n\r\n  function moveLeft(e) {\r\n    e.preventDefault();\r\n\r\n    setLeft(left - step);\r\n    setTurn(3);\r\n    player.style.left = left - step + 'px';\r\n\r\n  }\r\n\r\n  function moveRight(e) {\r\n    e.preventDefault();\r\n\r\n    setLeft(left + step);\r\n    setTurn(1);\r\n    player.style.left = left + step + 'px';\r\n\r\n  }\r\n\r\n  function damagePlayer() {\r\n    setPlayerHP(playerHP - damage);\r\n    playerHPBar.style.width = playerHP - damage + '%';\r\n  }\r\n\r\n  function damageEnemy() {\r\n    setEnemyHP(enemyHP - damage);\r\n    enemyHPBar.style.width = enemyHP - damage + '%';\r\n  }\r\n\r\n  function generateArrow() {\r\n    return Math.floor(Math.random() * 4);\r\n  }\r\n\r\n  function renderArrow(arrowNumber) {\r\n    switch (arrowNumber) {\r\n      case 0:\r\n        return (<span className=\"arrow\">↑</span>);\r\n\r\n      case 1:\r\n        return (<span className=\"arrow\">→</span>);\r\n\r\n      case 2:\r\n        return (<span className=\"arrow\">↓</span>);\r\n\r\n      case 3:\r\n        return (<span className=\"arrow\">←</span>);\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setPlayer(document.querySelector('.player'));\r\n    setplayerHPBar(document.querySelector('.health-bar_player .health-bar__points'));\r\n    setEnemyHPBar(document.querySelector('.health-bar_enemy .health-bar__points'));\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (playerHP === 0) {\r\n      setIsGameOver(true);\r\n      player.style.background = 'red';\r\n    }\r\n  }, [playerHP, player])\r\n\r\n  React.useEffect(() => {\r\n    if (enemyHP === 0) {\r\n      setIsGameOver(true);\r\n      player.style.background = 'lime';\r\n    }\r\n  }, [enemyHP, player])\r\n\r\n  React.useEffect(() => {\r\n    const arrows = [];\r\n    for (let i = 0; i < 9; i++) {\r\n      const arrowNumber = generateArrow();\r\n      arrows.push(arrowNumber);\r\n    }\r\n    setArrowsNumbers(arrows);\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if (turn === -1) return;\r\n    if (turn === arrowsNumbers[4]) {\r\n      damageEnemy();\r\n    } else {\r\n      damagePlayer();\r\n    }\r\n    const arrowNumber = generateArrow();\r\n    const newArrowsNumber = arrowsNumbers.filter((n, i) => i !== 0);\r\n    setArrowsNumbers([...newArrowsNumber, arrowNumber]);\r\n    setTurn(-1);\r\n    // eslint-disable-next-line\r\n  }, [arrowsNumbers, turn]);\r\n\r\n  return (\r\n    <div className=\"app\" tabIndex=\"0\" onKeyDown={isGameOver ? null : movement}>\r\n      <div className=\"game\">\r\n        <div className=\"arrows\">\r\n          <p className=\"arrows__container\">\r\n            {\r\n              arrowsNumbers.map(renderArrow)\r\n            }\r\n          </p>\r\n        </div>\r\n        <div className=\"health-bar health-bar_enemy\">\r\n          <div className=\"health-bar__points\"></div>\r\n        </div>\r\n        <div className={`player ${isPlayerMoves && \"player_moves\"}`}>\r\n          <div>\r\n            <div className=\"eyes\">\r\n              <div className=\"eye\"></div>\r\n              <div className=\"eye\"></div>\r\n            </div>\r\n            <div className=\"nose\"></div>\r\n          </div>\r\n          <div className=\"hair\"></div>\r\n        </div>\r\n        <div className=\"health-bar health-bar_player\">\r\n          <div className=\"health-bar__points\"></div>\r\n        </div>\r\n      </div>\r\n      <button className=\"game__move-button game__move-button_to_up\" onClick={isGameOver ? null : moveUp}>↑</button>\r\n      <button className=\"game__move-button game__move-button_to_right\" onClick={isGameOver ? null : moveRight}>→</button>\r\n      <button className=\"game__move-button game__move-button_to_down\" onClick={isGameOver ? null : moveDown}>↓</button>\r\n      <button className=\"game__move-button game__move-button_to_left\" onClick={isGameOver ? null : moveLeft}>←</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}